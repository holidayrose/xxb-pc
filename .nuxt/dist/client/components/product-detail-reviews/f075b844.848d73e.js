(window.webpackJsonp=window.webpackJsonp||[]).push([[1,6,11],{1015:function(t,e,n){"use strict";n.r(e);n(146);var l={name:"StarZoom",props:{outWidth:{type:Number,default:function(){return 0}},outHeight:{type:Number,default:function(){return 0}},decimal:{type:Number,default:function(){return 0}}},computed:{innerWidth:function(){return this.decimal*this.outWidth}}},d=n(86),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"star-wrap"}},[n("div",{staticClass:"star-default",style:{width:t.outWidth+"px",height:t.outHeight+"px"}},[n("div",{staticClass:"star-real",style:{width:t.innerWidth+"px",height:t.outHeight+"px"}})])])}),[],!1,null,null,null);e.default=component.exports},1032:function(t,e,n){var content=n(1041);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(50).default)("e2592f90",content,!0,{sourceMap:!1})},1035:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return c}));n(38),n(87),n(112),n(147),n(123),n(33),n(273),n(58),n(29);function l(t){var e=t.toString();return e[1]?e:"0".concat(e)}function d(t,e){var n="/static/images/avatar.jpg";return e[t]?e[t].includes("http")||(e[t].includes("jpg")||e[t].includes("JPG")||e[t].includes("PNG")?e[t]="https://www.xuanxingbao.com/"+e[t]:e[t]=n):e[t]=n,e}function r(t){var e=new Date(t),n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(l).join("-");return"".concat(n)}function c(t){var e='"[';return t.forEach((function(t,n,l){n<l.length-1?e+=t.product_id+",":e+=t.product_id+']"'})),e}},1040:function(t,e,n){"use strict";n(1032)},1041:function(t,e,n){var l=n(49)(!1);l.push([t.i,".bar-box[data-v-41038052]{width:100%;max-width:50vw;background-color:#e6e6e6;height:15px;border-radius:20px;overflow:hidden}.bar-box.small[data-v-41038052]{max-width:140px}.bar-box .bar[data-v-41038052]{height:15px;width:0;border-radius:20px;transition:width .8s ease-in-out;padding:0 10px}.bar-box .bar.c1[data-v-41038052]{background:#ff4a49;background:linear-gradient(90deg,#ff4a49,#fc8450)}.bar-box .bar.c2[data-v-41038052]{background:#ffa602;background:linear-gradient(90deg,#ffa602,#f1d335)}.bar-box .bar.c3[data-v-41038052]{background:#01d078;background:linear-gradient(90deg,#01d078,#63cea2)}.bar-box .bar.c4[data-v-41038052]{background:#8c89c2;background:linear-gradient(90deg,#8c89c2,#afb5f3)}.bar-box .bar.c5[data-v-41038052]{background:#afb5f3;background:linear-gradient(90deg,#afb5f3,#9eb9ff)}",""]),t.exports=l},1045:function(t,e,n){"use strict";n.r(e);n(146),n(72);var l={props:{index:{type:Number,default:0},score:{type:Number,default:.5},size:{type:String,default:""}},data:function(){return{start:!1}},computed:{width:function(){if(this.score<=2.5)return 25;var t=this.score/5*100;return t>25?t:25}},mounted:function(){var t=this;setTimeout((function(){t.start=!0}),50)}},d=(n(1040),n(86)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bar-box",class:t.size},[n("div",{staticClass:"bar",class:"c"+t.index,style:t.start?"width:"+t.width+"%":0})])}),[],!1,null,"41038052",null);e.default=component.exports},1084:function(t,e,n){"use strict";n.r(e);n(33);var l=n(1045),d=n(1015),r=n(1035),c={name:"Reviews",components:{bar:l.default,Star:d.default},props:{productDetailObj:{type:Object,default:function(){return{}}}},data:function(){return{allReviewsShow:!0,partReviewsShow:!1,advantageLen:0,disadvantageLen:0,tabsList:[],analysisDimensionId:null,curTitle:"",reviewsList:[],advantageReviews:[],disadvantageReviews:[],allReviewCurPage:1,allReviewTotalPage:1,allReviewTotalNumber:1,advantageReviewsCurPage:1,disadvantageReviewsCurPage:1,advantageReviewsTotalPage:1,disadvantageReviewsTotalPage:1,advantageReviewsTotalNumber:1,disadvantageReviewsTotalNumber:1,mainPath:""}},computed:{totalReviews:function(){return this.advantageLen+this.disadvantageLen}},mounted:function(){this.getTabs(),this.getReviewsList()},methods:{getTabs:function(){var t=this;this.$requests.productGetAllDimensions({PRODUCT_ID:this.productDetailObj.productObj.ID}).then((function(e){200===e.status&&e.data.dimensions&&(t.tabsList=e.data.dimensions)}))},getReviewsList:function(){var t=this;this.$requests.productReviews({PRODUCT_ID:this.productDetailObj.productObj.ID,CUR_PAGE:this.allReviewCurPage,TYPE:1}).then((function(e){200===e.status&&"success"===e.data.result&&(t.reviewsList=e.data.productScoreList,t.allReviewTotalPage=e.data.TOTAL_PAGE,t.allReviewTotalNumber=e.data.TOTAL_NUM,t.reviewsList.length&&(t.reviewsList=t.reviewsList.map((function(t){return t.operaTime=Object(r.c)(t.operaTime),t}))))}))},totalReviewsChange:function(t,e){this.allReviewCurPage=t,this.getReviewsList(),this.goTo("#all-reviews")},goTo:function(t){window.location.hash="",window.location.hash=t},disadvantageReviewsChange:function(t){this.disadvantageReviewsCurPage=t,this.getConsAnalysis(),this.goTo("#bad-reviews")},advantageReviewsChange:function(t){this.advantageReviewsCurPage=t,this.getProsAnalysis(),this.goTo("#all-reviews")},contact:function(){this.$emit("formHandleShow")},changeTags:function(t){this.allReviewsShow=!1,this.partReviewsShow=!0,this.advantageLen=parseInt(t.advantagenum),this.disadvantageLen=parseInt(t.disadvantagenum),this.analysisDimensionId=t.dimension_id,this.curTitle=t.title,this.advantageReviewsCurPage=1,this.disadvantageReviewsCurPage=1,this.getProsAnalysis(),this.getConsAnalysis()},getProsAnalysis:function(){var t=this,e=[];this.$requests.productProsAnalysis({PRODUCT_ID:this.productDetailObj.productObj.ID,CUR_PAGE:this.advantageReviewsCurPage,DIMENSION_TITLE:this.curTitle,USER_ID:"pcadmin"}).then((function(n){200===n.status&&"success"===n.data.result&&(e=n.data.pdScoreList,t.advantageReviewsTotalPage=n.data.TOTAL_PAGE,t.advantageReviewsTotalNumber=n.data.TOTAL_NUM,e.length&&(t.advantageReviews=e.map((function(t){return t.operaTime=Object(r.c)(t.operaTime),t}))))}))},getConsAnalysis:function(){var t=this,e=[];this.$requests.productConsAnalysis({PRODUCT_ID:this.productDetailObj.productObj.ID,CUR_PAGE:this.disadvantageReviewsCurPage,DIMENSION_TITLE:this.curTitle,USER_ID:"pcadmin"}).then((function(n){200===n.status&&"success"===n.data.result&&(e=n.data.pdScoreList,t.disadvantageReviewsTotalPage=n.data.TOTAL_PAGE,t.disadvantageReviewsTotalNumber=n.data.TOTAL_NUM,e.length&&(t.disadvantageReviews=e.map((function(t){return t.operaTime=Object(r.c)(t.operaTime),t}))))}))},handleGetAllReview:function(){this.allReviewsShow||(this.allReviewsShow=!0,this.partReviewsShow=!1,this.analysisDimensionId=null,this.allReviewCurPage=1,this.getReviewsList())},navigateToDetail:function(t){var e=this.$router.resolve({name:"review-detail-id",params:{id:t}});window.open(e.href,"_blank")}}},o=n(86),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"panel"},[n("a-row",[n("a-col",{attrs:{lg:12,md:12,sm:24}},[n("h3",{staticClass:"title"},[t._v("\n        共"+t._s(t.productDetailObj.productKbObj.dpnum)+"条评论\n      ")]),t._v(" "),n("div",{staticClass:"content"},t._l(t.productDetailObj.reviewArr,(function(e,l){return n("div",{key:l,staticClass:"item g-flex"},[n("div",{staticClass:"col col-1 "},[n("span",{staticClass:"spe"},[t._v(t._s(e.branchnum))]),t._v("人认为\n          ")]),t._v(" "),n("div",{staticClass:"col col-2"},[t._v("\n            "+t._s(e.levelTxt)+"\n          ")]),t._v(" "),n("div",{staticClass:"col col-3"},[n("Star",{attrs:{"out-width":100,"out-height":20,decimal:(5-l)/5}})],1)])})),0)]),t._v(" "),n("a-col",{attrs:{lg:12,md:12,sm:24}},[n("h3",{staticClass:"title"},[t._v("\n        【专项指标评分】\n      ")]),t._v(" "),n("div",{staticClass:"content earmarked"},t._l(t.productDetailObj.earmarked,(function(e,l){return n("div",{key:l,staticClass:"item g-flex"},[n("div",{staticClass:"col col-1",staticStyle:{width:"160px"}},[t._v("\n            "+t._s(e.text)+"\n          ")]),t._v(" "),n("div",{staticClass:"col col-4"},[n("bar",{attrs:{score:e.levelAvgNum,index:l+1}})],1),t._v(" "),n("div",{staticClass:"col col-3"},[t._v("\n            "+t._s(e.levelAvgNum)+"分\n          ")])])})),0)])],1),t._v(" "),n("a-row",{attrs:{id:"all-reviews"}},[n("a-col",[n("div",{staticClass:"tops-list"},[n("span",{staticClass:"tops-item",class:null===t.analysisDimensionId?"on":"",staticStyle:{"margin-right":"0"},on:{click:t.handleGetAllReview}},[t._v("全部点评")]),t._v(" "),t._l(t.tabsList,(function(e){return n("span",{key:e.id,staticClass:"tops-item",class:e.dimension_id===t.analysisDimensionId?"on":"",on:{click:function(n){return t.changeTags(e)}}},[t._v(t._s(e.title)+"("+t._s(e.num)+")")])}))],2),t._v(" "),t.allReviewsShow?n("div",{staticClass:"comment-list"},[t._l(t.reviewsList,(function(e,l){return n("div",{key:l,staticClass:"comment-item"},[n("div",{staticClass:"comment-info"},[n("div",{staticClass:"g-flex"},[n("div",{staticClass:"head-img"},[n("img",{attrs:{src:e.userheadimages,alt:"",width:"100%"}})]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[n("strong",[t._v(t._s(e.realname))]),t._v(" 对 "),n("strong",[t._v(t._s(t.productDetailObj.productObj.NAME))]),t._v(" 的点评\n                ")]),t._v(" "),n("div",{staticClass:"title"},[t._v("\n                  "+t._s(e.company)+" "+t._s(e.office)+"\n                ")]),t._v(" "),n("div",{staticClass:"count g-flex"},[n("span",[t._v(t._s(e.ztgsnum)+"分")]),t._v(" "),n("Star",{attrs:{"out-width":100,"out-height":20,decimal:e.ztgsnum/5}})],1)])]),t._v(" "),n("div",{staticClass:"publish-time"},[t._v("\n              "+t._s(e.operaTime)+"\n            ")])]),t._v(" "),n("div",{staticClass:"comment-content"},[n("p",[t._v("【优点】"+t._s(e.advantages))]),t._v(" "),n("p",[t._v("【缺点】"+t._s(e.disadvantages))])]),t._v(" "),n("div",{staticClass:"g-flex icon-list-wrap"},[n("div",{staticClass:"icon-item"},[n("a-icon",{attrs:{type:"message"}}),t._v(t._s(e.commentnum)+"\n            ")],1),t._v(" "),n("div",{staticClass:"icon-item"},[n("a-icon",{attrs:{type:"like"}}),t._v(t._s(e.praisenum)+"\n            ")],1)])])})),t._v(" "),n("div",{staticClass:"m-t-20 m-b-20"},[n("a-pagination",{attrs:{total:t.allReviewTotalNumber},on:{change:t.totalReviewsChange},model:{value:t.allReviewCurPage,callback:function(e){t.allReviewCurPage=e},expression:"allReviewCurPage"}})],1)],2):t._e(),t._v(" "),t.partReviewsShow?n("div",{staticClass:"comment-list"},[n("div",{staticClass:"vs-wrap"},[n("div",{staticClass:"round good"},[t._v("\n            好\n          ")]),t._v(" "),n("div",{staticClass:"number-bar"},[n("div",{staticClass:"t-box"},[n("span",{staticClass:"pros"},[t._v(t._s(t.advantageLen)+"人认为")]),t._v(" "),n("span",{staticClass:"cons"},[t._v(t._s(t.disadvantageLen)+"人认为")])]),t._v(" "),n("div",{staticClass:"b-box"},[n("div",{staticClass:"bar pros",style:{width:t.advantageLen/t.totalReviews*100+"%"}}),t._v(" "),n("div",{staticClass:"bar cons",style:{width:t.disadvantageLen/t.totalReviews*100+"%"}})]),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[t._v("\n              共"+t._s(t.totalReviews)+"条点评\n            ")])]),t._v(" "),n("div",{staticClass:"round bad"},[t._v("\n            不好\n          ")])]),t._v(" "),0!==t.advantageLen?n("div",{staticClass:"advantage-wrap"},[n("div",{staticClass:"area-title"},[t._v("\n            "+t._s(t.advantageLen)+"人说好，他们这么说\n          ")]),t._v(" "),n("div",{staticClass:"advantage-list-wrap"},t._l(t.advantageReviews,(function(e,l){return n("div",{key:l,staticClass:"comment-item"},[n("div",{staticClass:"comment-info"},[n("div",{staticClass:"g-flex"},[n("div",{staticClass:"head-img"},[n("img",{attrs:{src:e.userheadimages,alt:"",width:"100%"}})]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[n("strong",[t._v(t._s(e.realname))]),t._v(" 对 "),n("strong",[t._v(t._s(t.productDetailObj.productObj.NAME))]),t._v(" 的点评\n                    ")]),t._v(" "),n("div",{staticClass:"title"},[t._v("\n                      "+t._s(e.company)+" "+t._s(e.office)+"\n                    ")]),t._v(" "),n("div",{staticClass:"count g-flex"},[n("span",[t._v(t._s(e.ztgsnum)+"分")]),t._v(" "),n("Star",{attrs:{"out-width":100,"out-height":20,decimal:e.ztgsnum/5}})],1)])]),t._v(" "),n("div",{staticClass:"publish-time"},[t._v("\n                  "+t._s(e.operaTime)+"\n                ")])]),t._v(" "),n("div",{staticClass:"comment-content"},[n("p",[t._v(t._s(e.advantages))])]),t._v(" "),n("div",{staticClass:"g-flex icon-list-wrap"},[n("div",{staticClass:"icon-item"},[n("a-icon",{attrs:{type:"message"}}),t._v(t._s(e.commentnum)+"\n                ")],1),t._v(" "),n("div",{staticClass:"icon-item"},[n("a-icon",{attrs:{type:"like"}}),t._v(t._s(e.praisenum)+"\n                ")],1)])])})),0),t._v(" "),n("div",{staticClass:"m-t-20 m-b-20",attrs:{id:"bad-reviews"}},[n("a-pagination",{attrs:{total:t.advantageReviewsTotalNumber},on:{change:t.advantageReviewsChange},model:{value:t.advantageReviewsCurPage,callback:function(e){t.advantageReviewsCurPage=e},expression:"advantageReviewsCurPage"}})],1)]):t._e(),t._v(" "),0!==t.disadvantageLen?n("div",{staticClass:"disadvantage-wrap"},[n("div",{staticClass:"area-title"},[t._v("\n            "+t._s(t.disadvantageLen)+"人说不好，他们这么说\n          ")]),t._v(" "),n("div",{staticClass:"disadvantage-list-wrap"},t._l(t.disadvantageReviews,(function(e,l){return n("div",{key:l,staticClass:"comment-item"},[n("div",{staticClass:"comment-info"},[n("div",{staticClass:"g-flex"},[n("div",{staticClass:"head-img"},[n("img",{attrs:{src:e.userheadimages,alt:"",width:"100%"}})]),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"name"},[n("strong",[t._v(t._s(e.realname))]),t._v(" 对 "),n("strong",[t._v(t._s(t.productDetailObj.productObj.NAME))]),t._v(" 的点评\n                    ")]),t._v(" "),n("div",{staticClass:"title"},[t._v("\n                      "+t._s(e.company)+" "+t._s(e.office)+"\n                    ")]),t._v(" "),n("div",{staticClass:"count g-flex"},[n("span",[t._v(t._s(e.ztgsnum)+"分")]),t._v(" "),n("Star",{attrs:{"out-width":100,"out-height":20,decimal:e.ztgsnum/5}})],1)])]),t._v(" "),n("div",{staticClass:"publish-time"},[t._v("\n                  "+t._s(e.operaTime)+"\n                ")])]),t._v(" "),n("div",{staticClass:"comment-content"},[n("p",[t._v(t._s(e.disadvantages))])]),t._v(" "),n("div",{staticClass:"g-flex icon-list-wrap"},[n("div",{staticClass:"icon-item"},[n("a-icon",{attrs:{type:"message"}}),t._v(t._s(e.commentnum)+"\n                ")],1),t._v(" "),n("div",{staticClass:"icon-item"},[n("a-icon",{attrs:{type:"like"}}),t._v(t._s(e.praisenum)+"\n                ")],1)])])})),0),t._v(" "),n("div",{staticClass:"m-t-20 m-b-20"},[n("a-pagination",{attrs:{total:t.disadvantageReviewsTotalNumber},on:{change:t.disadvantageReviewsChange},model:{value:t.disadvantageReviewsCurPage,callback:function(e){t.disadvantageReviewsCurPage=e},expression:"disadvantageReviewsCurPage"}})],1)]):t._e()]):t._e()]),t._v(" "),n("a-col",{staticClass:"display-pc"},[n("div",{staticClass:"contact-btn",on:{click:t.contact}},[t._v("\n        请厂商联系我\n      ")])])],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);