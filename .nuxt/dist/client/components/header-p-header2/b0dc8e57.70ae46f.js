(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{802:function(e,t,r){"use strict";r.r(t);var n=r(30),o=(r(114),r(115),r(46),r(436),r(133),r(88)),c={props:{isShow:{type:Boolean,default:function(){return!1}}},data:function(){return{slogan:this.$configs.CONST.SLOGAN,keywords:"",hotSearchList:[],searchList:[],isFocus:!1,isSearch:!1,statusMapper:{product:"haveProductReviews",category:"haveCategoryInformation",fuzzy:"fuzzyMatching",notFound:"allWithout"},timer:null,historySearch:[]}},methods:{handleBannerPopShow:function(){this.$emit("handleBannerPopShow")},onSearch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.keywords.trim()){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,e.$requests.indexKeysSearch({KEY_INFO:e.keywords.trim()});case 6:if(200!==(r=t.sent).status||"success"!==r.data.result){t.next=19;break}t.t0=r.data.searchStatus,t.next=t.t0===e.statusMapper.category?11:t.t0===e.statusMapper.product?13:t.t0===e.statusMapper.fuzzy?15:t.t0===e.statusMapper.notFound?17:19;break;case 11:return e.$router.push({name:"product-id",params:{id:r.data.CATEGORY_ID},query:{category_name:e.keywords.trim()}}),t.abrupt("break",19);case 13:return e.$router.push({name:"productDetail-id",params:{id:r.data.PRODUCT_ID}}),t.abrupt("break",19);case 15:return e.$router.push({name:"result-status",params:{status:"fuzzy"},query:{keywords:e.keywords.trim()}}),t.abrupt("break",19);case 17:return e.$router.push({name:"result-status",params:{status:"notFound"},query:{keywords:e.keywords.trim()}}),t.abrupt("break",19);case 19:case"end":return t.stop()}}),t)})))()},onChange:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.keywords.trim()){t.next=5;break}e.isFocus=!0,e.isSearch=!1,t.next=9;break;case 5:return t.next=7,e.searchAutoComplete();case 7:e.searchList=t.sent,e.searchList?(e.isFocus=!1,e.isSearch=!0):(e.isFocus=!1,e.isSearch=!1);case 9:case"end":return t.stop()}}),t)})))()},onFocus:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var data,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.keywords.trim()){t.next=8;break}return e.getHistorySearch(),e.isFocus=!0,data={CUR_PAGE:1},t.next=6,e.$requests.indexSearchHot(data);case 6:200===(r=t.sent).status&&"success"===r.data.result&&(e.hotSearchList=r.data.hotsearchlogObj);case 8:case"end":return t.stop()}}),t)})))()},onBlur:function(){var e=this;this.timer=setTimeout((function(){e.isFocus=!1}),300)},searchAutoComplete:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],data={KEY_INFO:e.keywords.trim()},t.next=4,e.$requests.indexSearchAutoComplete(data);case 4:return 200===(n=t.sent).status&&"success"===n.data.result&&(r=n.data.productList),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))()},handleKeyWordTagClick:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,l,d,h,v,f,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=o.a.get("set_history_search"))?(-1!==(c=n.findIndex((function(t){return t.ID===e.ID})))&&n.splice(c,1),n.unshift(e),o.a.set("set_history_search",n)):((l=[]).unshift(e),o.a.set("set_history_search",l)),clearTimeout(t.timer),r.next=5,t.$requests.indexKeysSearch({KEY_INFO:e.names.trim()});case 5:if(200!==(d=r.sent).status||"success"!==d.data.result){r.next=22;break}r.t0=d.data.searchStatus,r.next=r.t0===t.statusMapper.category?10:r.t0===t.statusMapper.product?13:r.t0===t.statusMapper.fuzzy?16:r.t0===t.statusMapper.notFound?19:22;break;case 10:return h=t.$router.resolve({name:"company-id",params:{id:d.data.CATEGORY_ID},query:{category_name:e.value.trim()}}),window.open(h.href,"_blank"),r.abrupt("break",22);case 13:return v=t.$router.resolve({name:"productDetail-id",params:{id:d.data.PRODUCT_ID}}),window.open(v.href,"_blank"),r.abrupt("break",22);case 16:return f=t.$router.resolve({name:"result-status",params:{status:"fuzzy"},query:{keywords:e.names.trim()}}),window.open(f.href,"_blank"),r.abrupt("break",22);case 19:return m=t.$router.resolve({name:"result-status",params:{status:"notFound"},query:{keywords:e.names.trim()}}),window.open(m.href,"_blank"),r.abrupt("break",22);case 22:case"end":return r.stop()}}),r)})))()},handleKeyWordTagClick2:function(e){var t=o.a.get("set_history_search");if(t){var r=t.findIndex((function(t){return t.ID===e.ID}));-1!==r&&t.splice(r,1),t.unshift(e),o.a.set("set_history_search",t)}else{var n=[];n.unshift(e),o.a.set("set_history_search",n)}if("1"===e.TYPE){var c=this.$router.resolve({name:"productDetail-id",params:{id:e.ID}});window.open(c.href,"_blank")}else{var l=this.$router.resolve({name:"company-id",params:{id:e.ID},query:{category_name:e.NAME}});window.open(l.href,"_blank")}},getHistorySearch:function(){this.historySearch=o.a.get("set_history_search")},deleteHistorySearch:function(){o.a.remove("set_history_search"),this.historySearch=[]}}},l=(r(903),r(59)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-layout-header",{staticClass:"global-header"},[n("div",{staticClass:"g-wrapper g-flex space-between"},[n("h1",{staticClass:"logo-wrap"},[n("nuxt-link",{attrs:{to:"/"}},[n("img",{staticClass:"logo",attrs:{src:r(438),alt:"选型宝_企业软件的大众点评-ERP系统_BI_CRM系统_OA系统_数据库软件_BPM系统_企业邮箱..."}})]),e._v(" "),n("strong",[e._v(e._s(e.slogan))])],1),e._v(" "),n("div",{staticClass:"g-flex"},[n("nav",{staticClass:"nav"},[n("div",{staticClass:"link",on:{click:e.handleBannerPopShow}},[n("span",{staticClass:"icon review"}),e._v(" "),n("span",[e._v("写点评就给钱")])]),e._v(" "),n("nuxt-link",{staticClass:"link",attrs:{to:"/all",title:"软件类别",target:"_blank"}},[n("span",{staticClass:"icon cate"}),e._v(" "),n("span",[e._v("软件类别")])]),e._v(" "),n("nuxt-link",{staticClass:"link",attrs:{to:"https://e.xuanxingbao.com/",title:"企业入驻",target:"_blank"}},[n("span",{staticClass:"icon"}),e._v(" "),n("span",{staticClass:"entry"},[e._v("企业入驻")])])],1),e._v(" "),e.isShow?n("div",{staticClass:"search-box",class:{focus:e.isFocus,search:e.isSearch}},[n("a-input-search",{staticStyle:{width:"300px"},attrs:{placeholder:"搜索产品类别、名称，看看同行推荐啥？"},on:{search:e.onSearch,change:e.onChange,focus:e.onFocus,blur:e.onBlur},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),e._v(" "),n("div",{staticClass:"result-wrap focus-result"},[n("div",[n("h3",{staticClass:"title"},[e._v("\n              热门搜索\n            ")]),e._v(" "),e._l(e.hotSearchList,(function(t){return n("div",{key:t.ID,staticClass:"item"},[n("div",{staticClass:"link",on:{click:function(r){return e.handleKeyWordTagClick(t)}}},[n("span",{staticClass:"name"},[e._v(e._s(t.names))]),e._v(" "),n("span",{staticClass:"hot-icon"})])])}))],2),e._v(" "),e.historySearch?n("div",{staticStyle:{"margin-top":"10px"}},[n("h3",{staticClass:"title g-flex space-between"},[n("span",[e._v("历史搜索")]),e._v(" "),n("span",{staticStyle:{cursor:"pointer"},on:{click:e.deleteHistorySearch}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除\n              ")],1)]),e._v(" "),e._l(e.historySearch,(function(t){return n("div",{key:t.ID,staticClass:"item"},[n("div",{staticClass:"link",on:{click:function(r){return e.handleKeyWordTagClick(t)}}},[n("span",{staticClass:"name"},[e._v(e._s(t.names))]),e._v(" "),n("span",{staticClass:"hot-icon"})])])}))],2):e._e()]),e._v(" "),n("div",{staticClass:"result-wrap search-result"},e._l(e.searchList,(function(t){return n("div",{key:t.ID,staticClass:"item"},[n("div",{staticClass:"link",on:{click:function(r){return e.handleKeyWordTagClick2(t)}}},[n("span",{staticClass:"name"},[e._v(e._s(t.names))]),e._v(" "),n("span",{staticStyle:{color:"#666","font-size":"12px"}},[e._v(e._s("1"===t.TYPE?"产品":"类别"))])])])})),0)],1):e._e()])])])}),[],!1,null,"42b1de35",null);t.default=component.exports},866:function(e,t,r){var content=r(904);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(32).default)("e54a19d6",content,!0,{sourceMap:!1})},903:function(e,t,r){"use strict";r(866)},904:function(e,t,r){var n=r(31)(!1);n.push([e.i,".search-box[data-v-42b1de35]{position:relative}.result-wrap[data-v-42b1de35]{position:absolute;width:300px;height:198px;min-height:198px;overflow-y:scroll;background-color:#fff;padding:10px 0;border:1px solid #cacaca;top:54px;z-index:10;border-radius:4px}.result-wrap .title[data-v-42b1de35]{height:30px;line-height:30px;padding:0 10px;font-size:13px;color:#666}.result-wrap .item[data-v-42b1de35]{height:32px;line-height:32px;font-size:14px;color:#222;cursor:pointer}.result-wrap .item .link[data-v-42b1de35]{display:flex;justify-content:space-between;align-items:center;color:#222;padding:4px 20px;cursor:pointer}.result-wrap .item .link[data-v-42b1de35]:hover{background-color:rgba(0,125,255,.1)}.result-wrap .item .link .name[data-v-42b1de35]{display:inline-block;width:180px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.focus-result[data-v-42b1de35],.search-result[data-v-42b1de35]{display:none}.focus .focus-result[data-v-42b1de35],.search .search-result[data-v-42b1de35]{display:block}",""]),e.exports=n}}]);