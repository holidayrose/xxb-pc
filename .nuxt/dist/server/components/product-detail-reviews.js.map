{"version":3,"file":"components/product-detail-reviews.js","sources":["webpack:///./components/common/starComp/StarZoom.vue?e6ab","webpack:///./components/common/starComp/StarZoom.vue","webpack:///./components/common/starComp/StarZoom.vue?ff18","webpack:///./components/common/starComp/StarZoom.vue?10ea","webpack:///./components/BarScore.vue?a6f2","webpack:///./static/lib/utils.js","webpack:///./components/BarScore.vue?7fe9","webpack:///./components/BarScore.vue?069d","webpack:///./components/BarScore.vue?4888","webpack:///./components/BarScore.vue","webpack:///./components/BarScore.vue?9c69","webpack:///./components/BarScore.vue?9053","webpack:///./components/productDetail/reviews.vue?b5ae","webpack:///./components/productDetail/reviews.vue","webpack:///./components/productDetail/reviews.vue?6f02","webpack:///./components/productDetail/reviews.vue?d6ae"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"star-wrap\"}},[_vm._ssrNode(\"<div class=\\\"star-default\\\"\"+(_vm._ssrStyle(null,{ width: _vm.outWidth + 'px', height: _vm.outHeight + 'px' }, null))+\"><div class=\\\"star-real\\\"\"+(_vm._ssrStyle(null,{ width: _vm.innerWidth + 'px', height: _vm.outHeight + 'px' }, null))+\"></div></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'StarZoom',\n  props: {\n    outWidth: {\n      type: Number,\n      default () {\n        return 0\n      }\n    },\n    outHeight: {\n      type: Number,\n      default () {\n        return 0\n      }\n    },\n    decimal: {\n      type: Number,\n      default () {\n        return 0\n      }\n    }\n  },\n  computed: {\n    innerWidth () {\n      return this.decimal * this.outWidth\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--2-0!../../../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./StarZoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--2-0!../../../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./StarZoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StarZoom.vue?vue&type=template&id=c9375fa6&\"\nimport script from \"./StarZoom.vue?vue&type=script&lang=js&\"\nexport * from \"./StarZoom.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"a765bd56\"\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/_css-loader@4.3.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/_sass-loader@10.2.0@sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./BarScore.vue?vue&type=style&index=0&id=41038052&lang=sass&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/_vue-style-loader@4.1.3@vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"e2592f90\", content, true, context)\n};","function formatNumber (n) {\n  const str = n.toString()\n  return str[1] ? str : `0${str}`\n}\n\nexport function handleAvatar (attrName, item) {\n  const defaultAvatar = '/static/images/avatar.jpg'\n  if (item[attrName]) {\n    if (!item[attrName].includes('http')) {\n      if (!item[attrName].includes('jpg') && !item[attrName].includes('JPG') && !item[attrName].includes('PNG')) {\n        item[attrName] = defaultAvatar\n      } else {\n        item[attrName] = 'https://www.xuanxingbao.com/' + item[attrName]\n      }\n    }\n  } else {\n    item[attrName] = defaultAvatar\n  }\n  return item\n}\n\nexport function timestamp2date (timestamp) {\n  let date = new Date(timestamp)\n  const year = date.getFullYear()\n  const month = date.getMonth() + 1\n  const day = date.getDate()\n\n  const t1 = [year, month, day].map(formatNumber).join('-')\n\n  return `${t1}`\n}\n/**\n * 合法性检查\n * @param {*} form 被检查的数据\n * @param {*}\n */\nexport function validate (form) {\n  let validator = {\n    REALNAME: {\n      rules: {\n        required: true,\n        min: 2,\n        max: 8\n      },\n      messages: {\n        require: '请输入您的姓名!',\n        min: '请按要求输入您的姓名!',\n        max: '请按要求输入您的姓名!'\n      }\n    },\n    NICKNAME: {\n      rules: {\n        required: true,\n        min: 2,\n        max: 8\n      },\n      messages: {\n        require: '请输入您的姓名!',\n        min: '请按要求输入您的姓名!',\n        max: '请按要求输入您的姓名!'\n      }\n    },\n    COMPANY: {\n      rules: {\n        required: true\n      },\n      messages: {\n        require: '请填写公司!'\n      }\n    },\n    POSITION: {\n      rules: {\n        required: true\n      },\n      messages: {\n        require: '请填写职位!'\n      }\n    },\n    PHONE: {\n      rules: {\n        required: true,\n        mobile: true\n      },\n      messages: {\n        require: '请填写手机号!',\n        mobile: '手机号码格式不合法!'\n      }\n    },\n    USER_EMAIL: {\n      rules: {\n        required: true,\n        email: true\n      },\n      messages: {\n        require: '请填写邮箱!',\n        email: '您输入的邮箱不合法!'\n      }\n    }\n  }\n  let isValid = true\n  let data = null\n  for (let key in form) {\n    if (!isValid) {\n      break\n    }\n    let value = form[key]\n    for (let rule in validator[key].rules) {\n      let reg = null\n      switch (rule) {\n        case 'required':\n          if (!value) {\n            isValid = false\n          }\n          break\n        case 'min':\n          if (value === null || value.length < validator[key].rules[rule]) {\n            isValid = false\n          }\n          break\n        case 'max':\n          if (value === null || value.length > validator[key].rules[rule]) {\n            isValid = false\n          }\n          break\n        case 'mobile':\n          reg = new RegExp('^[1]([3-9])[0-9]{9}$')\n          if (!reg.test(value)) {\n            isValid = false\n          }\n          break\n        case 'captcha':\n          reg = new RegExp('^[\\\\d]{4}$')\n          if (!reg.test(value)) {\n            isValid = false\n          }\n          break\n        case 'email':\n          reg = new RegExp('^[_a-z0-9-]+(\\\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\\\.[a-z0-9-]+)*(\\\\.[a-z]{2,})$')\n          if (!reg.test(value)) {\n            isValid = false\n          }\n          break\n      }\n      if (!isValid) {\n        data = {\n          name: key,\n          msg: validator[key].messages[rule]\n        }\n      }\n    }\n  }\n  return data\n}\n\nexport function paramsToString (obj) {\n  let str = '\"['\n  obj.forEach((item, index, obj) => {\n    if (index < obj.length - 1) {\n      str += item.product_id + ','\n    } else {\n      str += item.product_id + ']\"'\n    }\n  })\n  return str\n}\n","export * from \"-!../node_modules/_vue-style-loader@4.1.3@vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/_css-loader@4.3.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/_sass-loader@10.2.0@sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./BarScore.vue?vue&type=style&index=0&id=41038052&lang=sass&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/_css-loader@4.3.0@css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".bar-box[data-v-41038052]{width:100%;max-width:50vw;background-color:#e6e6e6;height:15px;border-radius:20px;overflow:hidden}.bar-box.small[data-v-41038052]{max-width:140px}.bar-box .bar[data-v-41038052]{height:15px;width:0;border-radius:20px;transition:width .8s ease-in-out;padding:0 10px}.bar-box .bar.c1[data-v-41038052]{background:#ff4a49;background:linear-gradient(90deg,#ff4a49,#fc8450)}.bar-box .bar.c2[data-v-41038052]{background:#ffa602;background:linear-gradient(90deg,#ffa602,#f1d335)}.bar-box .bar.c3[data-v-41038052]{background:#01d078;background:linear-gradient(90deg,#01d078,#63cea2)}.bar-box .bar.c4[data-v-41038052]{background:#8c89c2;background:linear-gradient(90deg,#8c89c2,#afb5f3)}.bar-box .bar.c5[data-v-41038052]{background:#afb5f3;background:linear-gradient(90deg,#afb5f3,#9eb9ff)}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bar-box\",class:_vm.size},[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"bar\",'c' + _vm.index))+(_vm._ssrStyle(null,_vm.start ? 'width:' + _vm.width + '%' : 0, null))+\" data-v-41038052></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  props: {\r\n    index: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    score: {\r\n      type: Number,\r\n      default: 0.5\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      start: false\r\n    }\r\n  },\r\n  computed: {\r\n    width () {\r\n      const splitPoint = 2.5\r\n      const max = 5\r\n      const minWidth = 25\r\n      if (this.score <= splitPoint) {\r\n        return minWidth\r\n      } else {\r\n        const v = this.score / max * 100\r\n        return v > minWidth ? v : minWidth\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    setTimeout(() => {\r\n      this.start = true\r\n    }, 50)\r\n  }\r\n}\r\n","import mod from \"-!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--2-0!../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./BarScore.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--2-0!../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./BarScore.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BarScore.vue?vue&type=template&id=41038052&scoped=true&\"\nimport script from \"./BarScore.vue?vue&type=script&lang=js&\"\nexport * from \"./BarScore.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./BarScore.vue?vue&type=style&index=0&id=41038052&lang=sass&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"41038052\",\n  \"1512c905\"\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"panel\"},[_c('a-row',[_c('a-col',{attrs:{\"lg\":12,\"md\":12,\"sm\":24}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"\\n        共\"+_vm._s(_vm.productDetailObj.productKbObj.dpnum)+\"条评论\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},_vm._l((_vm.productDetailObj.reviewArr),function(item,index){return _c('div',{key:index,staticClass:\"item g-flex\"},[_c('div',{staticClass:\"col col-1 \"},[_c('span',{staticClass:\"spe\"},[_vm._v(_vm._s(item.branchnum))]),_vm._v(\"人认为\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"col col-2\"},[_vm._v(\"\\n            \"+_vm._s(item.levelTxt)+\"\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_c('Star',{attrs:{\"out-width\":100,\"out-height\":20,\"decimal\":(5-index)/5}})],1)])}),0)]),_vm._v(\" \"),_c('a-col',{attrs:{\"lg\":12,\"md\":12,\"sm\":24}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"\\n        【专项指标评分】\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"content earmarked\"},_vm._l((_vm.productDetailObj.earmarked),function(item,index){return _c('div',{key:index,staticClass:\"item g-flex\"},[_c('div',{staticClass:\"col col-1\",staticStyle:{\"width\":\"160px\"}},[_vm._v(\"\\n            \"+_vm._s(item.text)+\"\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"col col-4\"},[_c('bar',{attrs:{\"score\":item.levelAvgNum,\"index\":index + 1}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-3\"},[_vm._v(\"\\n            \"+_vm._s(item.levelAvgNum)+\"分\\n          \")])])}),0)])],1),_vm._ssrNode(\" \"),_c('a-row',{attrs:{\"id\":\"all-reviews\"}},[_c('a-col',[_c('div',{staticClass:\"tops-list\"},[_c('span',{staticClass:\"tops-item\",class:_vm.analysisDimensionId === null?'on':'',staticStyle:{\"margin-right\":\"0\"},on:{\"click\":_vm.handleGetAllReview}},[_vm._v(\"全部点评\")]),_vm._v(\" \"),_vm._l((_vm.tabsList),function(item){return _c('span',{key:item.id,staticClass:\"tops-item\",class:item.dimension_id === _vm.analysisDimensionId ? 'on' : '',on:{\"click\":function($event){return _vm.changeTags(item)}}},[_vm._v(_vm._s(item.title)+\"(\"+_vm._s(item.num)+\")\")])})],2),_vm._v(\" \"),(_vm.allReviewsShow)?_c('div',{staticClass:\"comment-list\"},[_vm._l((_vm.reviewsList),function(item,index){return _c('div',{key:index,staticClass:\"comment-item\"},[_c('div',{staticClass:\"comment-info\"},[_c('div',{staticClass:\"g-flex\"},[_c('div',{staticClass:\"head-img\"},[_c('img',{attrs:{\"src\":item.userheadimages,\"alt\":\"\",\"width\":\"100%\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\"},[_c('strong',[_vm._v(_vm._s(item.realname))]),_vm._v(\" 对 \"),_c('strong',[_vm._v(_vm._s(_vm.productDetailObj.productObj.NAME))]),_vm._v(\" 的点评\\n                \")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n                  \"+_vm._s(item.company)+\" \"+_vm._s(item.office)+\"\\n                \")]),_vm._v(\" \"),_c('div',{staticClass:\"count g-flex\"},[_c('span',[_vm._v(_vm._s(item.ztgsnum)+\"分\")]),_vm._v(\" \"),_c('Star',{attrs:{\"out-width\":100,\"out-height\":20,\"decimal\":item.ztgsnum/5}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"publish-time\"},[_vm._v(\"\\n              \"+_vm._s(item.operaTime)+\"\\n            \")])]),_vm._v(\" \"),_c('div',{staticClass:\"comment-content\"},[_c('p',[_vm._v(\"【优点】\"+_vm._s(item.advantages))]),_vm._v(\" \"),_c('p',[_vm._v(\"【缺点】\"+_vm._s(item.disadvantages))])]),_vm._v(\" \"),_c('div',{staticClass:\"g-flex icon-list-wrap\"},[_c('div',{staticClass:\"icon-item\"},[_c('a-icon',{attrs:{\"type\":\"message\"}}),_vm._v(_vm._s(item.commentnum)+\"\\n            \")],1),_vm._v(\" \"),_c('div',{staticClass:\"icon-item\"},[_c('a-icon',{attrs:{\"type\":\"like\"}}),_vm._v(_vm._s(item.praisenum)+\"\\n            \")],1)])])}),_vm._v(\" \"),_c('div',{staticClass:\"m-t-20 m-b-20\"},[_c('a-pagination',{attrs:{\"total\":_vm.allReviewTotalNumber},on:{\"change\":_vm.totalReviewsChange},model:{value:(_vm.allReviewCurPage),callback:function ($$v) {_vm.allReviewCurPage=$$v},expression:\"allReviewCurPage\"}})],1)],2):_vm._e(),_vm._v(\" \"),(_vm.partReviewsShow)?_c('div',{staticClass:\"comment-list\"},[_c('div',{staticClass:\"vs-wrap\"},[_c('div',{staticClass:\"round good\"},[_vm._v(\"\\n            好\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"number-bar\"},[_c('div',{staticClass:\"t-box\"},[_c('span',{staticClass:\"pros\"},[_vm._v(_vm._s(_vm.advantageLen)+\"人认为\")]),_vm._v(\" \"),_c('span',{staticClass:\"cons\"},[_vm._v(_vm._s(_vm.disadvantageLen)+\"人认为\")])]),_vm._v(\" \"),_c('div',{staticClass:\"b-box\"},[_c('div',{staticClass:\"bar pros\",style:({width: _vm.advantageLen/_vm.totalReviews*100 + '%'})}),_vm._v(\" \"),_c('div',{staticClass:\"bar cons\",style:({width: _vm.disadvantageLen/_vm.totalReviews*100 + '%'})})]),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"\\n              共\"+_vm._s(_vm.totalReviews)+\"条点评\\n            \")])]),_vm._v(\" \"),_c('div',{staticClass:\"round bad\"},[_vm._v(\"\\n            不好\\n          \")])]),_vm._v(\" \"),(_vm.advantageLen !== 0)?_c('div',{staticClass:\"advantage-wrap\"},[_c('div',{staticClass:\"area-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.advantageLen)+\"人说好，他们这么说\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"advantage-list-wrap\"},_vm._l((_vm.advantageReviews),function(item,index){return _c('div',{key:index,staticClass:\"comment-item\"},[_c('div',{staticClass:\"comment-info\"},[_c('div',{staticClass:\"g-flex\"},[_c('div',{staticClass:\"head-img\"},[_c('img',{attrs:{\"src\":item.userheadimages,\"alt\":\"\",\"width\":\"100%\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\"},[_c('strong',[_vm._v(_vm._s(item.realname))]),_vm._v(\" 对 \"),_c('strong',[_vm._v(_vm._s(_vm.productDetailObj.productObj.NAME))]),_vm._v(\" 的点评\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n                      \"+_vm._s(item.company)+\" \"+_vm._s(item.office)+\"\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"count g-flex\"},[_c('span',[_vm._v(_vm._s(item.ztgsnum)+\"分\")]),_vm._v(\" \"),_c('Star',{attrs:{\"out-width\":100,\"out-height\":20,\"decimal\":item.ztgsnum/5}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"publish-time\"},[_vm._v(\"\\n                  \"+_vm._s(item.operaTime)+\"\\n                \")])]),_vm._v(\" \"),_c('div',{staticClass:\"comment-content\"},[_c('p',[_vm._v(_vm._s(item.advantages))])]),_vm._v(\" \"),_c('div',{staticClass:\"g-flex icon-list-wrap\"},[_c('div',{staticClass:\"icon-item\"},[_c('a-icon',{attrs:{\"type\":\"message\"}}),_vm._v(_vm._s(item.commentnum)+\"\\n                \")],1),_vm._v(\" \"),_c('div',{staticClass:\"icon-item\"},[_c('a-icon',{attrs:{\"type\":\"like\"}}),_vm._v(_vm._s(item.praisenum)+\"\\n                \")],1)])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"m-t-20 m-b-20\",attrs:{\"id\":\"bad-reviews\"}},[_c('a-pagination',{attrs:{\"total\":_vm.advantageReviewsTotalNumber},on:{\"change\":_vm.advantageReviewsChange},model:{value:(_vm.advantageReviewsCurPage),callback:function ($$v) {_vm.advantageReviewsCurPage=$$v},expression:\"advantageReviewsCurPage\"}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.disadvantageLen !== 0)?_c('div',{staticClass:\"disadvantage-wrap\"},[_c('div',{staticClass:\"area-title\"},[_vm._v(\"\\n            \"+_vm._s(_vm.disadvantageLen)+\"人说不好，他们这么说\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"disadvantage-list-wrap\"},_vm._l((_vm.disadvantageReviews),function(item,index){return _c('div',{key:index,staticClass:\"comment-item\"},[_c('div',{staticClass:\"comment-info\"},[_c('div',{staticClass:\"g-flex\"},[_c('div',{staticClass:\"head-img\"},[_c('img',{attrs:{\"src\":item.userheadimages,\"alt\":\"\",\"width\":\"100%\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"name\"},[_c('strong',[_vm._v(_vm._s(item.realname))]),_vm._v(\" 对 \"),_c('strong',[_vm._v(_vm._s(_vm.productDetailObj.productObj.NAME))]),_vm._v(\" 的点评\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n                      \"+_vm._s(item.company)+\" \"+_vm._s(item.office)+\"\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"count g-flex\"},[_c('span',[_vm._v(_vm._s(item.ztgsnum)+\"分\")]),_vm._v(\" \"),_c('Star',{attrs:{\"out-width\":100,\"out-height\":20,\"decimal\":item.ztgsnum/5}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"publish-time\"},[_vm._v(\"\\n                  \"+_vm._s(item.operaTime)+\"\\n                \")])]),_vm._v(\" \"),_c('div',{staticClass:\"comment-content\"},[_c('p',[_vm._v(_vm._s(item.disadvantages))])]),_vm._v(\" \"),_c('div',{staticClass:\"g-flex icon-list-wrap\"},[_c('div',{staticClass:\"icon-item\"},[_c('a-icon',{attrs:{\"type\":\"message\"}}),_vm._v(_vm._s(item.commentnum)+\"\\n                \")],1),_vm._v(\" \"),_c('div',{staticClass:\"icon-item\"},[_c('a-icon',{attrs:{\"type\":\"like\"}}),_vm._v(_vm._s(item.praisenum)+\"\\n                \")],1)])])}),0),_vm._v(\" \"),_c('div',{staticClass:\"m-t-20 m-b-20\"},[_c('a-pagination',{attrs:{\"total\":_vm.disadvantageReviewsTotalNumber},on:{\"change\":_vm.disadvantageReviewsChange},model:{value:(_vm.disadvantageReviewsCurPage),callback:function ($$v) {_vm.disadvantageReviewsCurPage=$$v},expression:\"disadvantageReviewsCurPage\"}})],1)]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('a-col',{staticClass:\"display-pc\"},[_c('div',{staticClass:\"contact-btn\",on:{\"click\":_vm.contact}},[_vm._v(\"\\n        请厂商联系我\\n      \")])])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport bar from '../../components/BarScore'\nimport Star from '../../components/common/starComp/StarZoom'\nimport { timestamp2date } from '~/static/lib/utils'\nexport default {\n  name: 'Reviews',\n  components: {\n    bar,\n    Star\n  },\n  props: {\n    productDetailObj: {\n      type: Object,\n      default () {\n        return {}\n      }\n    }\n  },\n  data () {\n    return {\n      allReviewsShow: true,\n      partReviewsShow: false,\n      advantageLen: 0,\n      disadvantageLen: 0,\n      tabsList: [], // 维度数组\n      analysisDimensionId: null, // 标签ID\n      curTitle: '', // 选中的维度\n      reviewsList: [],\n      advantageReviews: [],\n      disadvantageReviews: [],\n      allReviewCurPage: 1, // 全部点评当前页码数\n      allReviewTotalPage: 1, // 全部点评当前页码数\n      allReviewTotalNumber: 1, // 全部点评当前页码数\n      advantageReviewsCurPage: 1, // 优点当前页\n      disadvantageReviewsCurPage: 1, // 缺点当前页\n      advantageReviewsTotalPage: 1, // 优点总页数\n      disadvantageReviewsTotalPage: 1, // 缺点总页数\n      advantageReviewsTotalNumber: 1,\n      disadvantageReviewsTotalNumber: 1,\n      mainPath: ''\n    }\n  },\n  computed: {\n    totalReviews () {\n      return this.advantageLen + this.disadvantageLen\n    }\n  },\n  mounted () {\n    this.getTabs()\n    this.getReviewsList()\n  },\n  methods: {\n    // 获取tabsList\n    getTabs () {\n      this.$requests.productGetAllDimensions({\n        PRODUCT_ID: this.productDetailObj.productObj.ID\n      }).then((res) => {\n        if (res.status === 200 && res.data.dimensions) {\n          this.tabsList = res.data.dimensions\n        }\n      })\n    },\n    // 获取所有点评\n    getReviewsList () {\n      this.$requests.productReviews({\n        PRODUCT_ID: this.productDetailObj.productObj.ID,\n        CUR_PAGE: this.allReviewCurPage,\n        TYPE: 1\n      }).then((res) => {\n        if (res.status === 200 && res.data.result === 'success') {\n          this.reviewsList = res.data.productScoreList\n          this.allReviewTotalPage = res.data.TOTAL_PAGE\n          this.allReviewTotalNumber = res.data.TOTAL_NUM\n          if (this.reviewsList.length) {\n            this.reviewsList = this.reviewsList.map((item) => {\n              item.operaTime = timestamp2date(item.operaTime)\n              return item\n            })\n          }\n        }\n      })\n    },\n    totalReviewsChange (page, pageSize) {\n      this.allReviewCurPage = page\n      this.getReviewsList()\n      this.goTo('#all-reviews')\n    },\n    goTo (anchor) {\n      window.location.hash = ''\n      window.location.hash = anchor\n    },\n    disadvantageReviewsChange (page) {\n      this.disadvantageReviewsCurPage = page\n      this.getConsAnalysis()\n      this.goTo('#bad-reviews')\n    },\n    advantageReviewsChange (page) {\n      this.advantageReviewsCurPage = page\n      this.getProsAnalysis()\n      this.goTo('#all-reviews')\n    },\n    contact () {\n      this.$emit('formHandleShow')\n    },\n    changeTags (item) {\n      this.allReviewsShow = false\n      this.partReviewsShow = true\n      this.advantageLen = parseInt(item.advantagenum)\n      this.disadvantageLen = parseInt(item.disadvantagenum)\n      this.analysisDimensionId = item.dimension_id\n      this.curTitle = item.title // 当前选中的维度\n      this.advantageReviewsCurPage = 1\n      this.disadvantageReviewsCurPage = 1\n      this.getProsAnalysis()\n      this.getConsAnalysis()\n    },\n    // 优点\n    getProsAnalysis () {\n      let partReviewsList = []\n      this.$requests.productProsAnalysis({\n        PRODUCT_ID: this.productDetailObj.productObj.ID,\n        CUR_PAGE: this.advantageReviewsCurPage,\n        DIMENSION_TITLE: this.curTitle,\n        USER_ID: 'pcadmin'\n      }).then((res) => {\n        if (res.status === 200 && res.data.result === 'success') {\n          partReviewsList = res.data.pdScoreList\n          this.advantageReviewsTotalPage = res.data.TOTAL_PAGE\n          this.advantageReviewsTotalNumber = res.data.TOTAL_NUM\n          if (partReviewsList.length) {\n            this.advantageReviews = partReviewsList.map((item) => {\n              item.operaTime = timestamp2date(item.operaTime)\n              return item\n            })\n          }\n        }\n      })\n    },\n    // 缺点\n    getConsAnalysis () {\n      let partReviewsList = []\n      this.$requests.productConsAnalysis({\n        PRODUCT_ID: this.productDetailObj.productObj.ID,\n        CUR_PAGE: this.disadvantageReviewsCurPage,\n        DIMENSION_TITLE: this.curTitle,\n        USER_ID: 'pcadmin'\n      }).then((res) => {\n        if (res.status === 200 && res.data.result === 'success') {\n          partReviewsList = res.data.pdScoreList\n          this.disadvantageReviewsTotalPage = res.data.TOTAL_PAGE\n          this.disadvantageReviewsTotalNumber = res.data.TOTAL_NUM\n          if (partReviewsList.length) {\n            this.disadvantageReviews = partReviewsList.map((item) => {\n              item.operaTime = timestamp2date(item.operaTime)\n              return item\n            })\n          }\n        }\n      })\n    },\n    handleGetAllReview () {\n      if (this.allReviewsShow) {\n        return\n      }\n      this.allReviewsShow = true\n      this.partReviewsShow = false\n      this.analysisDimensionId = null\n      this.allReviewCurPage = 1\n      this.getReviewsList()\n    },\n    navigateToDetail (id) {\n      let routeUrl = this.$router.resolve({\n        name: 'review-detail-id',\n        params: {\n          id\n        }\n      })\n      window.open(routeUrl.href, '_blank')\n    }\n  }\n}\n","import mod from \"-!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--2-0!../../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./reviews.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--2-0!../../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./reviews.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reviews.vue?vue&type=template&id=7faaa2ae&\"\nimport script from \"./reviews.vue?vue&type=script&lang=js&\"\nexport * from \"./reviews.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"666ca4a9\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AALA;AAMA;AACA;AACA;AAAA;AACA;AACA;AACA;AALA;AAMA;AACA;AACA;AAAA;AACA;AACA;AACA;AALA;AAbA;AAoBA;AACA;AACA;AACA;AACA;AAJA;AAtBA;;ACRA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AANA;AAYA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AANA;AAYA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AAQA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AAQA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAUA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AALA;AAnDA;AA8DA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAjCA;AACA;AAkCA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACpKA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AATA;AACA;AAaA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AAtCA;;ACVA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AACA;AACA;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AALA;AADA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AApBA;AAsBA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AACA;AAhIA;AA/CA;;ACpPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}