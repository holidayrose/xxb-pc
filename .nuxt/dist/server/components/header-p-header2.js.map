{"version":3,"file":"components/header-p-header2.js","sources":["webpack:///./components/header/pHeader2.vue?949f","webpack:///./components/header/pHeader2.vue?4d25","webpack:///./components/header/pHeader2.vue?4856","webpack:///./components/header/pHeader2.vue?6a43","webpack:///./components/header/pHeader2.vue","webpack:///./components/header/pHeader2.vue?360b","webpack:///./components/header/pHeader2.vue?fef8"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/_css-loader@4.3.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_sass-loader@10.2.0@sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./pHeader2.vue?vue&type=style&index=0&id=1495c895&lang=sass&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/_vue-style-loader@4.1.3@vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"605f3a16\", content, true, context)\n};","export * from \"-!../../node_modules/_vue-style-loader@4.1.3@vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@4.3.0@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_sass-loader@10.2.0@sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./pHeader2.vue?vue&type=style&index=0&id=1495c895&lang=sass&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/_css-loader@4.3.0@css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".search-box[data-v-1495c895]{position:relative}.result-wrap[data-v-1495c895]{position:absolute;width:300px;height:198px;min-height:198px;overflow-y:scroll;background-color:#fff;padding:10px 0;border:1px solid #cacaca;top:54px;z-index:10;border-radius:4px}.result-wrap .title[data-v-1495c895]{height:30px;line-height:30px;padding:0 10px;font-size:13px;color:#666}.result-wrap .item[data-v-1495c895]{height:32px;line-height:32px;font-size:14px;color:#222;cursor:pointer}.result-wrap .item .link[data-v-1495c895]{display:flex;justify-content:space-between;align-items:center;color:#222;padding:4px 20px;cursor:pointer}.result-wrap .item .link[data-v-1495c895]:hover{background-color:rgba(0,125,255,.1)}.result-wrap .item .link .name[data-v-1495c895]{display:inline-block;width:180px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.focus-result[data-v-1495c895],.search-result[data-v-1495c895]{display:none}.focus .focus-result[data-v-1495c895],.search .search-result[data-v-1495c895]{display:block}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-layout-header',{staticClass:\"global-header\"},[_c('div',{staticClass:\"g-wrapper g-flex space-between\"},[_c('h1',{staticClass:\"logo-wrap\"},[_c('nuxt-link',{attrs:{\"to\":\"/\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"../../assets/images/logo.png\"),\"alt\":\"选型宝_企业软件的大众点评-ERP系统_BI_CRM系统_OA系统_数据库软件_BPM系统_企业邮箱...\"}})]),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.slogan))])],1),_vm._v(\" \"),_c('div',{staticClass:\"g-flex\"},[_c('nav',{staticClass:\"nav\"},[_c('div',{staticClass:\"link\",on:{\"click\":_vm.handleBannerPopShow}},[_c('span',{staticClass:\"icon review\"}),_vm._v(\" \"),_c('span',[_vm._v(\"写点评就给钱\")])]),_vm._v(\" \"),_c('a',{staticClass:\"link\",attrs:{\"href\":\"/all\",\"title\":\"软件类别\"}},[_c('span',{staticClass:\"icon cate\"}),_vm._v(\" \"),_c('span',[_vm._v(\"软件类别\")])]),_vm._v(\" \"),_c('a',{staticClass:\"link\",attrs:{\"href\":\"https://e.xuanxingbao.com/\",\"title\":\"企业入驻\"}},[_c('span',{staticClass:\"icon\"}),_vm._v(\" \"),_c('span',{staticClass:\"entry\"},[_vm._v(\"企业入驻\")])])]),_vm._v(\" \"),(_vm.isShow)?_c('div',{staticClass:\"search-box\",class:{ focus: _vm.isFocus,search: _vm.isSearch }},[_c('a-input-search',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"搜索产品类别、名称，看看同行推荐啥？\"},on:{\"search\":_vm.onSearch,\"change\":_vm.onChange,\"focus\":_vm.onFocus,\"blur\":_vm.onBlur},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}}),_vm._v(\" \"),_c('div',{staticClass:\"result-wrap focus-result\"},[_c('div',[_c('h3',{staticClass:\"title\"},[_vm._v(\"\\n              热门搜索\\n            \")]),_vm._v(\" \"),_vm._l((_vm.hotSearchList),function(item){return _c('div',{key:item.ID,staticClass:\"item\"},[_c('div',{staticClass:\"link\",on:{\"click\":function($event){return _vm.handleKeyWordTagClick(item)}}},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.names))]),_vm._v(\" \"),_c('span',{staticClass:\"hot-icon\"})])])})],2),_vm._v(\" \"),(_vm.historySearch)?_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('h3',{staticClass:\"title g-flex space-between\"},[_c('span',[_vm._v(\"历史搜索\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.deleteHistorySearch}},[_c('a-icon',{attrs:{\"type\":\"delete\"}}),_vm._v(\"删除\\n              \")],1)]),_vm._v(\" \"),_vm._l((_vm.historySearch),function(item){return _c('div',{key:item.ID,staticClass:\"item\"},[_c('div',{staticClass:\"link\",on:{\"click\":function($event){return _vm.handleKeyWordTagClick(item)}}},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.names))]),_vm._v(\" \"),_c('span',{staticClass:\"hot-icon\"})])])})],2):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"result-wrap search-result\"},_vm._l((_vm.searchList),function(item){return _c('div',{key:item.ID,staticClass:\"item\"},[_c('div',{staticClass:\"link\",on:{\"click\":function($event){return _vm.handleKeyWordTagClick2(item)}}},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.names))]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#666\",\"font-size\":\"12px\"}},[_vm._v(_vm._s(item.TYPE === '1' ? '产品' : '类别'))])])])}),0)],1):_vm._e()])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport storage from '../../static/lib/storage'\n\nexport default {\n  props: {\n    isShow: {\n      type: Boolean,\n      default () {\n        return false\n      }\n    }\n  },\n  data () {\n    return {\n      slogan: this.$configs.CONST.SLOGAN,\n      keywords: '',\n      hotSearchList: [],\n      searchList: [],\n      isFocus: false,\n      isSearch: false,\n      statusMapper: {\n        product: 'haveProductReviews',\n        category: 'haveCategoryInformation',\n        fuzzy: 'fuzzyMatching',\n        notFound: 'allWithout'\n      },\n      timer: null,\n      historySearch: []\n    }\n  },\n  methods: {\n    handleBannerPopShow () {\n      this.$emit('handleBannerPopShow')\n    },\n    async onSearch () {\n      if (!this.keywords.trim()) {\n        return false\n      } else {\n        let res = await this.$requests.indexKeysSearch({\n          KEY_INFO: this.keywords.trim()\n        })\n        if (res.status === 200 && res.data.result === 'success') {\n          switch (res.data.searchStatus) {\n            case this.statusMapper.category:\n              this.$router.push({\n                name: 'product-id',\n                params: {\n                  id: res.data.CATEGORY_ID\n                },\n                query: {\n                  category_name: this.keywords.trim()\n                }\n              })\n              break\n            case this.statusMapper.product:\n              this.$router.push({\n                name: 'productDetail-id',\n                params: {\n                  id: res.data.PRODUCT_ID\n                }\n              })\n              break\n            case this.statusMapper.fuzzy:\n              this.$router.push({\n                name: 'result-status',\n                params: {\n                  status: 'fuzzy'\n                },\n                query: {\n                  keywords: this.keywords.trim()\n                }\n              })\n              break\n            case this.statusMapper.notFound:\n              this.$router.push({\n                name: 'result-status',\n                params: {\n                  status: 'notFound'\n                },\n                query: {\n                  keywords: this.keywords.trim()\n                }\n              })\n              break\n          }\n        }\n      }\n    },\n    async onChange () {\n      if (this.keywords.trim() === '') {\n        this.isFocus = true\n        this.isSearch = false\n      } else {\n        this.searchList = await this.searchAutoComplete()\n        if (this.searchList) {\n          this.isFocus = false\n          this.isSearch = true\n        } else {\n          this.isFocus = false\n          this.isSearch = false\n        }\n      }\n    },\n    async onFocus () {\n      if (this.keywords.trim() === '') {\n        this.getHistorySearch()\n        this.isFocus = true\n        const data = {\n          CUR_PAGE: 1\n        }\n        const res = await this.$requests.indexSearchHot(data)\n        if (res.status === 200 && res.data.result === 'success') {\n          this.hotSearchList = res.data.hotsearchlogObj\n        }\n      }\n    },\n    onBlur () {\n      this.timer = setTimeout(() => {\n        this.isFocus = false\n      }, 300)\n    },\n    async searchAutoComplete () {\n      let resList = []\n      const data = {\n        KEY_INFO: this.keywords.trim()\n      }\n      const res = await this.$requests.indexSearchAutoComplete(data)\n      if (res.status === 200 && res.data.result === 'success') {\n        resList = res.data.productList\n      }\n      return resList\n    },\n    async handleKeyWordTagClick (obj) {\n      // 历史搜索本地存储\n      let historySearch = storage.get('set_history_search')\n      if (historySearch) {\n        let index = historySearch.findIndex((item) => {\n          return item.ID === obj.ID\n        })\n        if (index !== -1) {\n          historySearch.splice(index, 1)\n        }\n        historySearch.unshift(obj)\n        storage.set('set_history_search', historySearch)\n      } else {\n        let tmpArr = []\n        tmpArr.unshift(obj)\n        storage.set('set_history_search', tmpArr)\n      }\n\n      clearTimeout(this.timer)\n      let res = await this.$requests.indexKeysSearch({\n        KEY_INFO: obj.names.trim()\n      })\n      if (res.status === 200 && res.data.result === 'success') {\n        switch (res.data.searchStatus) {\n          case this.statusMapper.category:\n            this.$router.push({\n              name: 'company-id',\n              params: {\n                id: res.data.CATEGORY_ID\n              },\n              query: {\n                category_name: obj.value.trim()\n              }\n            })\n            break\n          case this.statusMapper.product:\n            this.$router.push({\n              name: 'productDetail-id',\n              params: {\n                id: res.data.PRODUCT_ID\n              }\n            })\n            break\n          case this.statusMapper.fuzzy:\n            this.$router.push({\n              name: 'result-status',\n              params: {\n                status: 'fuzzy'\n              },\n              query: {\n                keywords: obj.names.trim()\n              }\n            })\n            break\n          case this.statusMapper.notFound:\n            this.$router.push({\n              name: 'result-status',\n              params: {\n                status: 'notFound'\n              },\n              query: {\n                keywords: obj.names.trim()\n              }\n            })\n            break\n        }\n      }\n    },\n    handleKeyWordTagClick2 (obj) {\n      // 历史搜索本地存储\n      let historySearch = storage.get('set_history_search')\n      if (historySearch) {\n        let index = historySearch.findIndex((item) => {\n          return item.ID === obj.ID\n        })\n        if (index !== -1) {\n          historySearch.splice(index, 1)\n        }\n        historySearch.unshift(obj)\n        storage.set('set_history_search', historySearch)\n      } else {\n        let tmpArr = []\n        tmpArr.unshift(obj)\n        storage.set('set_history_search', tmpArr)\n      }\n      if (obj.TYPE === '1') {\n        this.$router.push({\n          name: 'productDetail-id',\n          params: { id: obj.ID }\n        })\n      } else {\n        this.$router.push({\n          name: 'company-id',\n          params: { id: obj.ID },\n          query: { category_name: obj.NAME }\n        })\n      }\n    },\n    // 本地存储的历史搜索\n    getHistorySearch () {\n      this.historySearch = storage.get('set_history_search')\n      console.log(this.historySearch)\n    },\n    // 删除本地存储的历史搜索\n    deleteHistorySearch () {\n      storage.remove('set_history_search')\n      this.historySearch = []\n    }\n  }\n}\n","import mod from \"-!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--2-0!../../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./pHeader2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js??ref--2-0!../../node_modules/_@nuxt_components@2.1.8@@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./pHeader2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pHeader2.vue?vue&type=template&id=1495c895&scoped=true&\"\nimport script from \"./pHeader2.vue?vue&type=script&lang=js&\"\nexport * from \"./pHeader2.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./pHeader2.vue?vue&type=style&index=0&id=1495c895&lang=sass&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"1495c895\",\n  \"3b4daa6e\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AALA;AADA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAdA;AAgBA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AALA;AASA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AALA;AASA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AALA;AASA;AAzCA;AA2CA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AALA;AASA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AALA;AASA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AALA;AASA;AAzCA;AA2CA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAlNA;AA3BA;;AC9EA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}